{{ define "main" }}
<div class="uk-section">
    <div class="uk-container">
        <div uk-filter="target: .js-filter">

            <ul class="uk-subnav uk-subnav-pill">
                <li class="uk-active" uk-filter-control><a href="#">All</a></li>
                {{ $categories := slice }}
                {{ range .Pages }}
                  {{ $categories = $categories | append .Params.projects }}
                {{ end }}
                {{ range ($categories | uniq) }}
                  <li uk-filter-control='[data-category="[{{ . }}]"]'>
                    <a href="#">{{ . }}</a>
                  </li>
                {{ end }}
            </ul>
        
            <ul class="js-filter uk-child-width-1-2 uk-child-width-1-3@m uk-text-center" uk-grid>
                {{ range .Pages }}
                <li data-category="{{ .Params.projects }}">
                    <div class="uk-card uk-card-default uk-card-body uk-cover-container portfolio-page">
                        <a href="{{ .Permalink }}" data-caption="">
                            <canvas height="300"></canvas>
                            <img src="{{ .Params.featured_image }}" alt="" uk-cover>
                        </a>
                    </div>
                </li>
                {{ end }}
            </ul>
        </div>
    </div>
</div>
{{ end }}