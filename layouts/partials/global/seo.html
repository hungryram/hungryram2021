
{{ $seo := .Site.Data.profile }}
{{ $profile := .Site.Data.profile.company_name }}
{{ $logo := .Site.Data.appearance.branding.logo }}

{{ $bodyDesc := .Params.body | truncate 170 }}
<!-- OPEN GRAPH -->
<meta property="og:url" content="{{ .Permalink }}" />

{{- if $.IsHome -}}
<meta property="og:image" content="{{ $logo | absURL }}"/>
<meta property="og:title" content="{{ $seo.meta_title }}"/>
<meta property="og:description" content="{{ $seo.meta_description }}"/>
<meta property="og:type" content="website" />
{{ else }}
{{- with .Params.title_tag | default .Params.search_engine_optimization.title_tag -}}
    <meta property="og:title" content="{{ . }}"/>
{{- else }}
    <meta property="og:title" content="{{ .Params.Title }} - {{ $profile }}"/>
{{- end }}
{{- with .Params.meta_description | default .Params.body }}
    <meta property="og:description" content="{{ . }}" />
{{- else }}
    <meta property="og:description" content="{{ .Summary | truncate 170 }}" />
{{- end }}
{{- with .Params.featured_image | default .Site.Data.appearance.branding.favicon }}
    <meta property="og:image" content="{{ . }}">
{{- end }}
    <meta property="og:type" content="{{ if in .Permalink "blog" }}article{{ else }}website{{ end }}"/>
{{- end -}}
<!-- END OPEN GRAPH -->

<!-- BEGIN SEO -->
{{- if $.IsHome -}}
<title>{{ .Site.Data.profile.title_tag }}</title>
<meta name="description" content="{{ .Site.Data.profile.meta_description }}">
{{- else }}
{{- with .Params.title_tag | default .Params.search_engine_optimization.title_tag }}
<title>{{ . }}</title>
{{- else }}
<title>{{ .Title }} - {{ $profile }}</title>
{{- end }}

{{- with .Params.meta_description | default .Params.search_engine_optimization.meta_description | default $bodyDesc  }}
<meta name="description" content="{{ . }}">
{{- else }}
<meta name="description" content="{{ .Summary | truncate 170 }}">
{{- end }}
{{- end -}}

<!-- TWITTER CARD -->
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="{{ .Title }}"/>
{{ with .Params.meta_description | default .Params.search_engine_optimization.meta_description | default $bodyDesc | default .Site.Data.profile.meta_description  }}
<meta name="twitter:description" content="{{ . }}"/>
{{ else }}
<meta name="twitter:description" content="{{ .Summary | truncate 170 }}"/>
{{ end }}
<meta name="twitter:image" content="{{ .Site.Data.appearance.branding.favicon }}"/>